{
  hm.programs.firefox.policies.Preferences = {
    "browser.urlbar.suggest.calculator" = true;
    "browser.urlbar.unitConversion.enabled" = true;
    "browser.urlbar.trimHttps" = true;

    "browser.urlbar.suggest.searches" = true; # Need this for basic search suggestions
    "browser.urlbar.shortcuts.bookmarks" = false;
    "browser.urlbar.shortcuts.history" = false;
    "browser.urlbar.shortcuts.tabs" = false;

    "browser.tabs.tabMinWidth" = 75; # Make tabs able to be smaller to prevent scrolling

    "browser.urlbar.placeholderName" = "DuckDuckGo";
    "browser.urlbar.placeholderName.private" = "DuckDuckGo";

    "browser.aboutConfig.showWarning" = false; # No warning when going to config
    "browser.warnOnQuitShortcut" = false;

    "browser.tabs.loadInBackground" = true; # Load tabs automatically
    "browser.tabs.closeTabByDblclick" = true;

    "media.ffmpeg.vaapi.enabled" = true; # Enable hardware acceleration
    "layers.acceleration.force-enabled" = true;
    "gfx.webrender.all" = true;

    "browser.in-content.dark-mode" = true; # Use dark mode
    "ui.systemUsesDarkTheme" = true;

    "extensions.autoDisableScopes" = 0; # Automatically enable extensions
    "extensions.update.enabled" = false;

    "widget.use-xdg-desktop-portal.file-picker" = 1; # Use new gtk file picker instead of legacy one

    # "browser.tabs.groups.enabled" = true; # Too glitchy right now
    "browser.tabs.groups.dragOverThresholdPercent" = 10;
  };
}
