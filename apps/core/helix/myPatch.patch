From df550722f3432a0bd6365d44c30c99cc65a35b98 Mon Sep 17 00:00:00 2001
From: Jaakko Paju <36770267+JPaju@users.noreply.github.com>
Date: Wed, 30 Oct 2024 23:53:54 +0200
Subject: [PATCH 1/3] Add CSV language and grammar config

---
 languages.toml | 11 ++++++++++-
 1 file changed, 10 insertions(+), 1 deletion(-)

diff --git a/languages.toml b/languages.toml
index 3d4d1f9085c2..5edb1712c2c3 100644
--- a/languages.toml
+++ b/languages.toml
@@ -3859,4 +3859,13 @@ indent = { tab-width = 4, unit = "    " }
 
 [[grammar]]
 name = "cylc"
-source = { git = "https://github.com/elliotfontaine/tree-sitter-cylc", rev = "30dd40d9bf23912e4aefa93eeb4c7090bda3d0f6" }
\ No newline at end of file
+source = { git = "https://github.com/elliotfontaine/tree-sitter-cylc", rev = "30dd40d9bf23912e4aefa93eeb4c7090bda3d0f6" }
+
+[[language]]
+name = "csv"
+file-types = ["csv"]
+scope = "source.csv"
+
+[[grammar]]
+name = "csv"
+source = { git = "https://github.com/weartist/rainbow-csv-tree-sitter", rev = "d3dbf916446131417e4c2ea9eb8591b23b466d27" }

From a3a961f17dd606c2bfe67b9ed9eda471c762f30c Mon Sep 17 00:00:00 2001
From: Jaakko Paju <36770267+JPaju@users.noreply.github.com>
Date: Wed, 30 Oct 2024 23:54:45 +0200
Subject: [PATCH 2/3] Add CSV highlight queries

---
 runtime/queries/csv/highlights.scm | 8 ++++++++
 1 file changed, 8 insertions(+)
 create mode 100644 runtime/queries/csv/highlights.scm

diff --git a/runtime/queries/csv/highlights.scm b/runtime/queries/csv/highlights.scm
new file mode 100644
index 000000000000..f843c5f4af1c
--- /dev/null
+++ b/runtime/queries/csv/highlights.scm
@@ -0,0 +1,8 @@
+(first)@type
+(second)@function
+(third)@constant
+(fourth)@operator
+(fifth)@type
+(sixth)@function
+(seventh)@constant
+

From 17b6930d74793068f425d02d996f61cbfd26a49a Mon Sep 17 00:00:00 2001
From: Jaakko Paju <36770267+JPaju@users.noreply.github.com>
Date: Thu, 31 Oct 2024 00:08:24 +0200
Subject: [PATCH 3/3] Add CSV to lang-support.md

---
 book/src/generated/lang-support.md | 1 +
 1 file changed, 1 insertion(+)

diff --git a/book/src/generated/lang-support.md b/book/src/generated/lang-support.md
index 09f15b374fdb..8b06ff0f7603 100644
--- a/book/src/generated/lang-support.md
+++ b/book/src/generated/lang-support.md
@@ -28,6 +28,7 @@
 | cpp | ✓ | ✓ | ✓ | `clangd` |
 | crystal | ✓ | ✓ |  | `crystalline` |
 | css | ✓ |  | ✓ | `vscode-css-language-server` |
+| csv | ✓ |  |  |  |
 | cue | ✓ |  |  | `cuelsp` |
 | cylc | ✓ | ✓ | ✓ |  |
 | d | ✓ | ✓ | ✓ | `serve-d` |

